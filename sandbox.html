<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANDBOX</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
        integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
        crossorigin="anonymous"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@10"></script>
</head>

<body>
    <div class="progress" style="display: none;">
        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75"
            aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div>
    </div>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Sandbox</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-link active" href="#">Buku</a>
            </div>
        </div>
    </nav>
    <div class="container mt-3">
        <h4 class="clearfix">
            <span class="float-left">List data buku</span>
            <button class="float-right btn btn-info" type="button" data-toggle="modal" data-target="#modal-add">Tambah
                Buku</button>
        </h4>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Nama</th>
                    <th scope="col">Kategori</th>
                    <th scope="col">Aksi</th>
                </tr>
            </thead>
            <tbody id="bookList">

            </tbody>
        </table>
    </div>

    <div class="modal fade" id="modal-add" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form id="form-add">
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="name">Nama Buku</label>
                            <input id="name" class="form-control" type="text" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="kategori">Kategori</label>
                            <select id="kategori" class="form-control" name="type_books_id" required>
                                <option value="" selected disabled>Pilih kategori</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script>
        const _0xc215 = ['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>', 'json', 'Apakah\x20kamu\x20yakin?', 'menghapus\x20data\x20buku\x20', 'data', '341357SSHEJw', '</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>', 'fire', 'application/json;\x20charset=utf-8', 'val', '.progress', '30262witbJZ', 'stringify', '262459LrWbbQ', 'hide', 'statusText', 'Gagal!', '#kategori', 'success', 'warning', 'submit', '395641grIvXe', 'type_book', '\x27)\x22\x20type=\x22button\x22>delete</button></td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</tr>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20', '581145ZpbNjk', 'message', 'html', '11FSKZmE', '623320DCkYBv', 'error', 'append', 'forEach', '</option>', '2ofzwNy', '#name', 'https://mybook-order.herokuapp.com/books', 'modal', 'ready', 'show', '55693xRIxOC', 'Berhasil!', '#modal-add', 'preventDefault', '1kMSeXX', 'ajax', '</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td><button\x20class=\x22btn\x20btn-sm\x20btn-danger\x22\x20onclick=\x22deleteBook(', 'name']; const _0x56e6 = function (_0x4527c1, _0x437728) { _0x4527c1 = _0x4527c1 - 0xd9; let _0xc2150b = _0xc215[_0x4527c1]; return _0xc2150b; }; const _0x91e658 = _0x56e6; (function (_0x4c6300, _0x4cfbec) { const _0x118059 = _0x56e6; while (!![]) { try { const _0x4130ce = parseInt(_0x118059(0xfd)) + -parseInt(_0x118059(0xd9)) + parseInt(_0x118059(0xdd)) * -parseInt(_0x118059(0xee)) + parseInt(_0x118059(0xec)) * parseInt(_0x118059(0xfc)) + -parseInt(_0x118059(0x102)) * -parseInt(_0x118059(0xe6)) + -parseInt(_0x118059(0xf9)) + -parseInt(_0x118059(0xf6)); if (_0x4130ce === _0x4cfbec) break; else _0x4c6300['push'](_0x4c6300['shift']()); } catch (_0xe81be4) { _0x4c6300['push'](_0x4c6300['shift']()); } } }(_0xc215, 0x53faa), $(document)[_0x91e658(0x106)](function () { getListBook(), getListCategory(); })); const getListCategory = () => { const _0x28ce15 = _0x91e658; $[_0x28ce15(0xde)]({ 'type': 'GET', 'url': 'https://mybook-order.herokuapp.com/books/type', 'dataType': _0x28ce15(0xe2), 'success': function (_0x1b23da) { const _0x3b4038 = _0x28ce15; _0x1b23da['data'][_0x3b4038(0x100)](_0x1840fd => { const _0x2a7324 = _0x3b4038; $(_0x2a7324(0xf2))[_0x2a7324(0xff)]('<option\x20value=\x22' + _0x1840fd['id'] + '\x22>' + _0x1840fd['name'] + _0x2a7324(0x101)); }); } }); }; $('#form-add')[_0x91e658(0xf5)](function (_0x2d9c83) { const _0x134ff5 = _0x91e658; _0x2d9c83[_0x134ff5(0xdc)](); const _0x3c143e = { 'name': $(_0x134ff5(0x103))[_0x134ff5(0xea)](), 'type_books_id': $(_0x134ff5(0xf2))[_0x134ff5(0xea)]() }; $('.progress')[_0x134ff5(0x107)](), $(_0x134ff5(0xdb))['modal']('hide'), $[_0x134ff5(0xde)]({ 'type': 'POST', 'url': _0x134ff5(0x104), 'data': JSON[_0x134ff5(0xed)](_0x3c143e), 'contentType': _0x134ff5(0xe9), 'dataType': _0x134ff5(0xe2), 'success': function (_0x2d1720) { const _0x4bd9b3 = _0x134ff5; _0x2d1720[_0x4bd9b3(0xf3)] ? (getListBook(), Swal['fire']({ 'title': _0x4bd9b3(0xda), 'text': _0x2d1720['message'], 'icon': _0x4bd9b3(0xf3) }), $(_0x4bd9b3(0x103))[_0x4bd9b3(0xea)](''), $('#kategori')[_0x4bd9b3(0xea)]('')) : ($(_0x4bd9b3(0xdb))['modal'](_0x4bd9b3(0x107)), Swal['fire']({ 'title': _0x4bd9b3(0xf1), 'text': _0x2d1720[_0x4bd9b3(0xfa)], 'icon': _0x4bd9b3(0xfe) })); }, 'done': _0x205024 => { const _0x46dc72 = _0x134ff5; $(_0x46dc72(0xeb))[_0x46dc72(0xef)](); }, 'error': _0x3597b8 => { const _0x808ad3 = _0x134ff5; $(_0x808ad3(0xdb))[_0x808ad3(0x105)]('show'), Swal[_0x808ad3(0xe8)]({ 'title': _0x808ad3(0xf1), 'text': _0x3597b8[_0x808ad3(0xf0)], 'icon': _0x808ad3(0xfe) }); } }); }); const getListBook = () => { const _0x54f375 = _0x91e658; $(_0x54f375(0xeb))[_0x54f375(0x107)](), $['ajax']({ 'type': 'GET', 'url': _0x54f375(0x104), 'dataType': 'json', 'success': function (_0x19981e) { const _0x166d3e = _0x54f375; let _0x4e5227 = ''; _0x19981e[_0x166d3e(0xe5)]['forEach']((_0x227d76, _0x7e4586) => { const _0x3840a8 = _0x166d3e; _0x4e5227 += _0x3840a8(0xe1) + (_0x7e4586 + 0x1) + _0x3840a8(0xe7) + _0x227d76[_0x3840a8(0xe0)] + _0x3840a8(0xe7) + _0x227d76[_0x3840a8(0xf7)][_0x3840a8(0xe0)] + _0x3840a8(0xdf) + _0x227d76['id'] + ',\x27' + _0x227d76['name'] + _0x3840a8(0xf8); }), $('.progress')[_0x166d3e(0xef)](), $('#bookList')[_0x166d3e(0xfb)](_0x4e5227); } }); }, deleteBook = async (_0x243ced, _0x11aa7e) => { const _0x58e8c3 = _0x91e658, { isConfirmed: _0x316005 } = await Swal[_0x58e8c3(0xe8)]({ 'title': _0x58e8c3(0xe3), 'text': _0x58e8c3(0xe4) + _0x11aa7e, 'icon': _0x58e8c3(0xf4), 'showCancelButton': !![], 'confirmButtonText': 'Yakin' }); _0x316005 && ($(_0x58e8c3(0xeb))[_0x58e8c3(0x107)](), $[_0x58e8c3(0xde)]({ 'type': 'DELETE', 'url': _0x58e8c3(0x104), 'data': JSON[_0x58e8c3(0xed)]({ 'id': _0x243ced }), 'contentType': _0x58e8c3(0xe9), 'dataType': _0x58e8c3(0xe2), 'success': function (_0x57db9a) { const _0x548ef6 = _0x58e8c3; if (_0x57db9a[_0x548ef6(0xf3)]) getListBook(), Swal[_0x548ef6(0xe8)]({ 'title': _0x548ef6(0xda), 'text': _0x57db9a[_0x548ef6(0xfa)], 'icon': 'success' }); else Swal[_0x548ef6(0xe8)]({ 'title': _0x548ef6(0xf1), 'text': _0x57db9a['message'], 'icon': _0x548ef6(0xfe) }); } })); };
    </script>
</body>

</html>